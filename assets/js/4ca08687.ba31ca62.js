"use strict";(self.webpackChunkneutralinojs_github_io=self.webpackChunkneutralinojs_github_io||[]).push([[50],{9503:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>u});var i=t(4848),r=t(8453),l=t(1470),s=t(9365);const o={title:"Framework Developer Guide"},a=void 0,c={id:"contributing/framework-developer-guide",title:"Framework Developer Guide",description:"Great open-source software is a result of the collaboration of enthusiastic developers.",source:"@site/docs/contributing/framework-developer-guide.mdx",sourceDirName:"contributing",slug:"/contributing/framework-developer-guide",permalink:"/docs/contributing/framework-developer-guide",draft:!1,unlisted:!1,editUrl:"https://github.com/neutralinojs/neutralinojs.github.io/edit/main/docs/contributing/framework-developer-guide.mdx",tags:[],version:"current",frontMatter:{title:"Framework Developer Guide"},sidebar:"docs",previous:{title:"Distribution Overview",permalink:"/docs/distribution/overview"},next:{title:"Architecture",permalink:"/docs/contributing/architecture"}},d={},u=[{value:"Setup and build the framework",id:"setup-and-build-the-framework",level:2},{value:"Cloning the repository",id:"cloning-the-repository",level:3},{value:"Installing compilation tools and dependencies",id:"installing-compilation-tools-and-dependencies",level:3},{value:"Linux",id:"linux",level:4},{value:"Debian",id:"debian",level:5},{value:"Fedora",id:"fedora",level:5},{value:"Arch",id:"arch",level:5},{value:"Windows",id:"windows",level:4},{value:"macOS",id:"macos",level:4},{value:"Compile the Neutralinojs framework.",id:"compile-the-neutralinojs-framework",level:3},{value:"Linux or macOS",id:"linux-or-macos",level:4},{value:"Windows",id:"windows-1",level:4},{value:"Setup and build the client",id:"setup-and-build-the-client",level:2},{value:"Executing the test app",id:"executing-the-test-app",level:2},{value:"Testing",id:"testing",level:2},{value:"Adding a new test case",id:"adding-a-new-test-case",level:3},{value:"Project directory structure",id:"project-directory-structure",level:2},{value:"Framework",id:"framework",level:3},{value:"Client library",id:"client-library",level:3},{value:"Contribution guidelines",id:"contribution-guidelines",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Great open-source software is a result of the collaboration of enthusiastic developers.\nAnyone can help Neutralino by contributing code and reporting bugs. This document explains how to\nstart contributing Neutralinojs."}),"\n",(0,i.jsxs)(n.p,{children:["Note that this guide is for framework developers. If you are getting started with Neutralinojs app development,\nyou can start from ",(0,i.jsx)(n.a,{href:"/docs/getting-started/your-first-neutralinojs-app",children:"here"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"setup-and-build-the-framework",children:"Setup and build the framework"}),"\n",(0,i.jsx)(n.h3,{id:"cloning-the-repository",children:"Cloning the repository"}),"\n",(0,i.jsx)(n.p,{children:"First, clone the main repository."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/neutralinojs/neutralinojs.git\ncd neutralinojs\n"})}),"\n",(0,i.jsx)(n.h3,{id:"installing-compilation-tools-and-dependencies",children:"Installing compilation tools and dependencies"}),"\n",(0,i.jsx)(n.h4,{id:"linux",children:"Linux"}),"\n",(0,i.jsx)(n.p,{children:"No need for separate compilers because Linux distributions usually have GNU C/C++ compilers installed already."}),"\n",(0,i.jsx)(n.p,{children:"Install GTK, WebKit, other libraries with the following command."}),"\n",(0,i.jsx)(n.h5,{id:"debian",children:"Debian"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install libgtk-3-dev\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install libwebkit2gtk-4.1-0\n# --- or ---\nsudo apt install libwebkit2gtk-4.0-37\n"})}),"\n",(0,i.jsx)(n.h5,{id:"fedora",children:"Fedora"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo dnf install \\\n    @development-tools \\\n    gtk3 \\\n    webkit2gtk3.x86_64 \\\n    webkit2gtk3-devel.x86_64 \\\n    libgtk-3-dev \\\n    libwebkit2gtk-4.1-0 \\ # or libwebkit2gtk-4.0-37\n    libglib2.0-dev \\\n    libxrandr-dev\n"})}),"\n",(0,i.jsx)(n.h5,{id:"arch",children:"Arch"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S \\\n    gtk3 \\\n    webkit2gtk\n"})}),"\n",(0,i.jsx)(n.h4,{id:"windows",children:"Windows"}),"\n",(0,i.jsxs)(n.p,{children:["Install the latest Visual Studio IDE with Windows SDK. The Neutralinojs compilation process will use the MSVC C++ compiler (aka ",(0,i.jsx)(n.code,{children:"cl.exe"}),")."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:'How to activate Windows 10 SDK: While installing it in the Visual Studio Installer, go to tab Workloads, section "Desktop & Mobile" and select "Desktop development with C++". On the right in "Installation details" > "Desktop development with C++" > "Optional", make sure "Windows 10 SDK" is checked.'})}),"\n",(0,i.jsx)(n.h4,{id:"macos",children:"macOS"}),"\n",(0,i.jsx)(n.p,{children:"Install Xcode Command Line Tools."}),"\n",(0,i.jsx)(n.h3,{id:"compile-the-neutralinojs-framework",children:"Compile the Neutralinojs framework."}),"\n",(0,i.jsx)(n.p,{children:"Run the following script in order to build the framework binaries."}),"\n",(0,i.jsx)(n.h4,{id:"linux-or-macos",children:"Linux or macOS"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"python3 scripts/bz.py\n"})}),"\n",(0,i.jsx)(n.h4,{id:"windows-1",children:"Windows"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"python scripts/bz.py\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["You need to have the ",(0,i.jsx)(n.a,{href:"https://www.python.org/downloads/",children:"Python"})," interpreter (version 3.x) installed to run this script."]})}),"\n",(0,i.jsxs)(n.p,{children:["Neutralinojs uses BuildZri C++ build automation tool to generate binaries on local development computers and\nCI/CD servers. Read the ",(0,i.jsx)(n.a,{href:"https://codezri.org/docs/buildzri/intro",children:"BuildZri documentation"})," to learn more about CLI options and configuration."]}),"\n",(0,i.jsx)(n.h2,{id:"setup-and-build-the-client",children:"Setup and build the client"}),"\n",(0,i.jsx)(n.p,{children:"Neutralinojs apps communicate with the Neutralinojs process via a WebSocket connection. This WebSocket connection\ngets initiated by the Neutralinojs client."}),"\n",(0,i.jsx)(n.p,{children:"Clone the client repository to the same directory where you downloaded the main repository."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/neutralinojs/neutralino.js.git\ncd neutralino.js\n"})}),"\n",(0,i.jsx)(n.p,{children:"Install developer dependencies."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install\n"})}),"\n",(0,i.jsx)(n.h2,{id:"executing-the-test-app",children:"Executing the test app"}),"\n",(0,i.jsx)(n.p,{children:"The main repository has a simple test application that you can use during development related activities.\nYou can enter the following command from the main repository to build and update the test app's client."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bash ./scripts/update_client.sh\n"})}),"\n",(0,i.jsx)(n.p,{children:"Now run the newly compiled test app with the following command."}),"\n",(0,i.jsxs)(l.A,{defaultValue:"Linux",values:[{label:"Linux",value:"Linux"},{label:"macOS",value:"macOS"},{label:"Windows",value:"Windows"}],children:[(0,i.jsx)(s.A,{value:"Linux",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./bin/neutralino-linux_x64 --load-dir-res\n"})})}),(0,i.jsx)(s.A,{value:"macOS",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# For Intel processors (x64)\n./bin/neutralino-mac_x64 --load-dir-res\n\n# For new Apple processors (arm64)\n./bin/neutralino-mac_arm64 --load-dir-res\n"})})}),(0,i.jsx)(s.A,{value:"Windows",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./bin/neutralino-win_x64.exe --load-dir-res\n"})})})]}),"\n",(0,i.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,i.jsx)(n.p,{children:"Testing is a crucial part in every development activity. Every pull request in the main codebase will trigger\nthe following automated tests."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Builds on Linux, macOS, and Windows with x64 machines."}),"\n",(0,i.jsx)(n.li,{children:"Integration test suite."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"However, you can run our integration test suite from your local computer too with the following command\nfrom the main codebase's directory."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd spec\nnpm install\nnpm run test\n"})}),"\n",(0,i.jsx)(n.p,{children:"It's always good to run the test suite for the module you've updated with the following command."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm run test <module> # Eg: npm run test filesystem\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["If you need to run tests for the ",(0,i.jsx)(n.code,{children:"extensions"})," module, make sure to enter ",(0,i.jsx)(n.code,{children:"npm install"})," from\n",(0,i.jsx)(n.code,{children:"./bin/extensions/sampleextension"})," first."]})}),"\n",(0,i.jsx)(n.p,{children:"The above command will run test only for the given module."}),"\n",(0,i.jsx)(n.h3,{id:"adding-a-new-test-case",children:"Adding a new test case"}),"\n",(0,i.jsxs)(n.p,{children:["To add a test case simply add it to the ",(0,i.jsx)(n.code,{children:"spec/<module>.spec.js"})," file.\nFor example, if you need to add a new test case to the ",(0,i.jsx)(n.code,{children:"debug"})," module, add the test case to the ",(0,i.jsx)(n.code,{children:"spec/debug.spec.js"})," file."]}),"\n",(0,i.jsx)(n.p,{children:"Next, run the test suite for that specific module, as shown in the following command snippet:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd spec\nnpm i \nnpm run test debug\n"})}),"\n",(0,i.jsx)(n.h2,{id:"project-directory-structure",children:"Project directory structure"}),"\n",(0,i.jsx)(n.h3,{id:"framework",children:"Framework"}),"\n",(0,i.jsxs)(n.p,{children:["Source: ",(0,i.jsx)(n.a,{href:"https://github.com/neutralinojs/neutralinojs",children:"github.com/neutralinojs/neutralinojs"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api"}),": The native API implementation and controllers. Written in REST API style."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"auth"}),": Authentication and permissions-related logic."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"bin"}),": Test app source code."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib"}),": Third-party libraries source files."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"server"}),": WebSocket/HTTP communication endpoints."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"spec"}),": Integration/API test suite."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"scripts"}),": Contains automation scripts to build the framework, generate release notes, update the client library, and build ",(0,i.jsx)(n.code,{children:"resources.neu"})," for the test app."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"client-library",children:"Client library"}),"\n",(0,i.jsxs)(n.p,{children:["Source: ",(0,i.jsx)(n.a,{href:"https://github.com/neutralinojs/neutralino.js",children:"github.com/neutralinojs/neutralino.js"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/api"}),": JavaScript API frontend and implementaion."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/browser"}),": Browser-related API implementation."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/ws"}),": WebSocket client implementaion."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"scripts"}),": Contains automation scripts to generate release notes."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"contribution-guidelines",children:"Contribution guidelines"}),"\n",(0,i.jsx)(n.p,{children:"Before, contributing to the codebase, please check the following things."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Discuss the feature/improvement/bug-fix with the Neutralinojs team via GitHub discussions."}),"\n",(0,i.jsxs)(n.li,{children:["Get familiar with the code style. Write your code according to the\n",(0,i.jsx)(n.a,{href:"/docs/contributing/code-style-guide",children:"Neutralinojs code style guide"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Become familiar with all modules in the codebase."}),"\n",(0,i.jsx)(n.li,{children:"Avoid adding new features to only one platform."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Thanks for helping us to make Neutralinojs better!"})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},9365:(e,n,t)=>{t.d(n,{A:()=>s});t(6540);var i=t(8215);const r={tabItem:"tabItem_Ymn6"};var l=t(4848);function s(e){let{children:n,hidden:t,className:s}=e;return(0,l.jsx)("div",{role:"tabpanel",className:(0,i.A)(r.tabItem,s),hidden:t,children:n})}},1470:(e,n,t)=>{t.d(n,{A:()=>y});var i=t(6540),r=t(8215),l=t(3104),s=t(6347),o=t(205),a=t(7485),c=t(1682),d=t(9466);function u(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:i,default:r}}=e;return{value:n,label:t,attributes:i,default:r}}))}(t);return function(e){const n=(0,c.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const r=(0,s.W6)(),l=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,a.aZ)(l),(0,i.useCallback)((e=>{if(!l)return;const n=new URLSearchParams(r.location.search);n.set(l,e),r.replace({...r.location,search:n.toString()})}),[l,r])]}function x(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,l=h(e),[s,a]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:l}))),[c,u]=m({queryString:t,groupId:r}),[x,b]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,l]=(0,d.Dv)(t);return[r,(0,i.useCallback)((e=>{t&&l.set(e)}),[t,l])]}({groupId:r}),j=(()=>{const e=c??x;return p({value:e,tabValues:l})?e:null})();(0,o.A)((()=>{j&&a(j)}),[j]);return{selectedValue:s,selectValue:(0,i.useCallback)((e=>{if(!p({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);a(e),u(e),b(e)}),[u,b,l]),tabValues:l}}var b=t(2303);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(4848);function f(e){let{className:n,block:t,selectedValue:i,selectValue:s,tabValues:o}=e;const a=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.a_)(),d=e=>{const n=e.currentTarget,t=a.indexOf(n),r=o[t].value;r!==i&&(c(n),s(r))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=a.indexOf(e.currentTarget)+1;n=a[t]??a[0];break}case"ArrowLeft":{const t=a.indexOf(e.currentTarget)-1;n=a[t]??a[a.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:o.map((e=>{let{value:n,label:t,attributes:l}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>a.push(e),onKeyDown:u,onClick:d,...l,className:(0,r.A)("tabs__item",j.tabItem,l?.className,{"tabs__item--active":i===n}),children:t??n},n)}))})}function v(e){let{lazy:n,children:t,selectedValue:r}=e;const l=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=l.find((e=>e.props.value===r));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function w(e){const n=x(e);return(0,g.jsxs)("div",{className:(0,r.A)("tabs-container",j.tabList),children:[(0,g.jsx)(f,{...n,...e}),(0,g.jsx)(v,{...n,...e})]})}function y(e){const n=(0,b.A)();return(0,g.jsx)(w,{...e,children:u(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var i=t(6540);const r={},l=i.createContext(r);function s(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);